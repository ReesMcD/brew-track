{% extends "bar/base.html" %}
{% block content %}

<h1>{{ bar.name }}</h1>
<p>Welcome to the {{ bar.name }} brewTrack page!</p>

{% if events %}

    <h2>
        Events
        {% if user.is_authenticated %}
        <a id="" uk-icon="cog" href="#"></a>
        {% endif %}
    </h2>
    <div class=" uk-grid-match uk-grid-small uk-child-width-1-2@s" uk-grid>
        <div class="">
            <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-animation-fade">
                <h3 class="uk-card-title uk-margin-remove-bottom uk-margin-remove-top">Next Event</h3>
                <p>{{events.first.name}} - {{events.first.date}}</p>
            </div>
        </div>
        <div class="">
            <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-animation-fade">
                <h3 class="uk-card-title uk-margin-remove-bottom uk-margin-remove-top">Upcoming Events</h3>
                {% for event in events %}
                    <p>{{ event.name }} - {{event.date}}</p>
                {% endfor %}
            </div>
        </div>
    </div>


{% endif %}

<h2>Menu
    {% if user.is_authenticated %}
    <a id="item-add" uk-icon="plus" href="{% url 'bar:create_item' bar.id %}"></a>
    {% endif %}
</h2>

<div uk-filter="target: .js-filter">
    <div class="uk-grid-small uk-grid-divider uk-child-width-auto" uk-grid>
        <div>
            <ul class="uk-subnav uk-subnav-pill" uk-margin>
                <li class="uk-active" uk-filter-control><a href="#">All</a></li>
            </ul>
        </div>

        <div>
            <ul class="uk-subnav uk-subnav-pill" uk-margin>
                {% for type in typeList %}
                <li uk-filter-control="[data-tags*='{{type}}']"><a href="#">{{type}}</a></li>
                {% endfor %}
            </ul>
        </div>

        <div>
            <ul class="uk-subnav uk-subnav-pill" uk-margin>
                {% for type in subList%}
                <li uk-filter-control="[data-tags*='{{type}}']"><a href="#">{{type}}</a></li>
                {% endfor %}
            </ul>
        </div>

    </div>

{# Item Cards #}
    <div class="js-filter uk-grid-match uk-grid-small uk-child-width-1-3@s uk-flex-left" uk-grid>
        {% for item in menuList %}
        <div data-tags="{{item.type}} {{item.subtype}}">
            <div class="uk-card uk-card-default uk-card-hover uk-card-body uk-animation-fade">
                {% if user.is_authenticated %}
                <a class="uk-card-badge" uk-icon="settings" href="{% url 'bar:update_item' item.id%}"></a>
                {% endif %}
                <div class="uk-flex uk-flex-middle">
                    <h3 class="uk-card-title uk-margin-remove-bottom">{{item.name}}</h3>
                    <p class="item-size uk-card-title ">{{item.size}} oz.</p>
                </div>

                <div>{{item.subtype}}</div>
                <div>
                    ${{item.price}}
                </div>
                {% if item.location %}
                <div>
                    <span uk-icon="location"></span> {{item.location}}
                </div>
                {% endif %}
                {% if item.amount_flag %}
                <progress class="uk-progress" value="{{item.current_amount}}" min="0" max="{{item.total_amount}}"></progress>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>

</div>

<script type="text/javascript">

</script>

{% endblock content %}
